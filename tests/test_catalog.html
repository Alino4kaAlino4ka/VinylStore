<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ –∞—É–¥–∏–æ–∫–Ω–∏–≥</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #333;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .api-test {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>–¢–µ—Å—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ –∞—É–¥–∏–æ–∫–Ω–∏–≥</h1>
        
        <div class="test-section">
            <h3>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–∞—Ç–∞–ª–æ–≥–∞</h3>
            <p>–¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ–∫–Ω–∏–≥:</p>
            <button onclick="testAPI()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API</button>
            <div id="api-status"></div>
            <div id="api-response" class="api-test" style="display: none;"></div>
        </div>

        <div class="test-section">
            <h3>2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞</h3>
            <p>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –∞—É–¥–∏–æ–∫–Ω–∏–≥ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:</p>
            <ul>
                <li>–ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–∏ –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞</li>
                <li>–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ª–∏ –Ω–æ–≤—ã–µ –∫–Ω–∏–≥–∏ –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞:
                    <ul>
                        <li>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç (–î–≠–ù–ò–ï–õ –ì–û–£–õ–ú–ê–ù) - 599 —Ä—É–±.</li>
                        <li>–û—Å–Ω–æ–≤–∞–Ω–∏–µ (–ê–ô–ó–ï–ö –ê–ó–ò–ú–û–í) - 27.99 —Ä—É–±.</li>
                        <li>–î—é–Ω–∞ (–§–†–≠–ù–ö –ì–ï–†–ë–ï–†–¢) - 34.99 —Ä—É–±.</li>
                        <li>–í–ª–∞—Å—Ç–µ–ª–∏–Ω –∫–æ–ª–µ—Ü (–î–ñ.–†.–†. –¢–û–õ–ö–ò–ù) - 39.99 —Ä—É–±.</li>
                        <li>–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å (–î–ñ.–ö. –†–û–£–õ–ò–ù–ì) - 24.99 —Ä—É–±.</li>
                    </ul>
                </li>
                <li>–†–∞–±–æ—Ç–∞—é—Ç –ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∂–∞–Ω—Ä—É –∏ –∞–≤—Ç–æ—Ä—É</li>
                <li>–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è (6 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)</li>
                <li>–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É</li>
                <li>–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ</li>
                <li>–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ª–∏ —Ä–µ–π—Ç–∏–Ω–≥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "‚òÖ 4.5"</li>
            </ul>
            <button onclick="openCatalog()">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥</button>
        </div>

        <div class="test-section">
            <h3>3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</h3>
            <div id="functionality-tests">
                <button onclick="testLocalStorage()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage</button>
                <button onclick="testCartCount()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã</button>
                <button onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
            <div id="functionality-status"></div>
        </div>

        <div class="test-section">
            <h3>4. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</h3>
            <div class="status info">
                <strong>–ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong>
                <ol>
                    <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000</li>
                    <li>–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</li>
                    <li>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö</li>
                    <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∂–∞–Ω—Ä—É –∏ –∞–≤—Ç–æ—Ä—É</li>
                    <li>–î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ –≤ –∫–æ—Ä–∑–∏–Ω—É</li>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã</li>
                    <li>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        async function testAPI() {
            const statusDiv = document.getElementById('api-status');
            const responseDiv = document.getElementById('api-response');
            
            statusDiv.innerHTML = '<div class="status info">–ü—Ä–æ–≤–µ—Ä—è–µ–º API...</div>';
            
            try {
                const response = await fetch('http://localhost:8000/api/v1/products');
                if (response.ok) {
                    const data = await response.json();
                    statusDiv.innerHTML = '<div class="status success">‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω! –ó–∞–≥—Ä—É–∂–µ–Ω–æ ' + data.products.length + ' –∞—É–¥–∏–æ–∫–Ω–∏–≥</div>';
                    responseDiv.style.display = 'block';
                    responseDiv.textContent = JSON.stringify(data, null, 2);
                } else {
                    statusDiv.innerHTML = '<div class="status error">‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –°—Ç–∞—Ç—É—Å: ' + response.status + '</div>';
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API: ' + error.message + '</div>';
            }
        }

        function openCatalog() {
            window.open('catalog.html', '_blank');
        }

        function testLocalStorage() {
            const statusDiv = document.getElementById('functionality-status');
            try {
                const testData = { test: 'data' };
                localStorage.setItem('test', JSON.stringify(testData));
                const retrieved = JSON.parse(localStorage.getItem('test'));
                localStorage.removeItem('test');
                
                if (retrieved.test === 'data') {
                    statusDiv.innerHTML = '<div class="status success">‚úÖ localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</div>';
                } else {
                    statusDiv.innerHTML = '<div class="status error">‚ùå localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</div>';
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">‚ùå –û—à–∏–±–∫–∞ localStorage: ' + error.message + '</div>';
            }
        }

        function testCartCount() {
            const statusDiv = document.getElementById('functionality-status');
            const cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            statusDiv.innerHTML = '<div class="status info">üìä –í –∫–æ—Ä–∑–∏–Ω–µ —Å–µ–π—á–∞—Å: ' + totalItems + ' —Ç–æ–≤–∞—Ä–æ–≤</div>';
        }

        function clearCart() {
            localStorage.removeItem('cart');
            const statusDiv = document.getElementById('functionality-status');
            statusDiv.innerHTML = '<div class="status success">‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞</div>';
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            testCartCount();
        });
    </script>
</body>
</html>
