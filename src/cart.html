<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Ä–∑–∏–Ω–∞ - –í–∏–Ω–∏–ª –®–æ–ø</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
    <link rel="stylesheet" href="styles/style.css">
    <style>
        .cart-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .cart-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .cart-header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .cart-items {
            background-color: #1A1B20;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px 0;
            border-bottom: 1px solid #2A2B30;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .cart-item-info {
            flex-grow: 1;
        }
        
        .cart-item-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .cart-item-author {
            color: #ADADAD;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            font-size: 16px;
            font-weight: 600;
            color: #FF9900;
        }
        
        .cart-item-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            background-color: #2A2B30;
            border: 1px solid #EAEAEA;
            color: #EAEAEA;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
        }
        
        .quantity-btn:hover {
            background-color: #FF9900;
            color: #0F1014;
        }
        
        .quantity-display {
            font-size: 16px;
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }
        
        .item-total {
            font-size: 16px;
            font-weight: 600;
            color: #FF9900;
        }
        
        .remove-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .remove-btn:hover {
            background-color: #c82333;
        }
        
        .cart-summary {
            background-color: #1A1B20;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
        }
        
        .total-price {
            font-size: 24px;
            font-weight: 700;
            color: #FF9900;
            margin-bottom: 20px;
        }
        
        .checkout-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .checkout-btn {
            background-color: #FF9900;
            color: #0F1014;
            border: none;
            border-radius: 8px;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            flex: 1;
            max-width: 200px;
        }
        
        .checkout-btn:hover {
            background-color: #e68900;
        }
        
        .checkout-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        
        .clear-cart-btn {
            background: none;
            border: 1px solid #FF9900;
            color: #FF9900;
            border-radius: 8px;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            flex: 1;
            max-width: 200px;
        }
        
        .clear-cart-btn:hover {
            background-color: #FF9900;
            color: #0F1014;
        }
        
        .empty-cart {
            text-align: center;
            padding: 60px 20px;
            color: #ADADAD;
        }
        
        .empty-cart h2 {
            margin-bottom: 20px;
            color: #EAEAEA;
        }
        
        .empty-cart a {
            color: #FF9900;
            text-decoration: none;
            font-weight: 600;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #ADADAD;
        }
        
        .error {
            background-color: #dc3545;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <a href="index.html" class="logo">–í–ò–ù–ò–õ –®–û–ü</a>
        <nav>
            <a href="cart.html" class="active">–ö–æ—Ä–∑–∏–Ω–∞ (<span id="cart-count">0</span>)</a>
        </nav>
        <div class="user-actions">
            <div class="search-dropdown">
                <button class="search-icon-btn" id="header-search-btn" title="–ü–æ–∏—Å–∫">üîç</button>
                <div class="search-dropdown-content" id="search-dropdown-content">
                    <div class="search-dropdown-header">
                        <span class="search-dropdown-title">–ü–æ–∏—Å–∫ –ø–æ –≤–∏–Ω–∏–ª–æ–≤—ã–º –ø–ª–∞—Å—Ç–∏–Ω–∫–∞–º</span>
                        <button class="search-dropdown-close" id="search-dropdown-close">‚úï</button>
                    </div>
                    <div class="search-dropdown-body">
                        <input type="text" id="dropdown-search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ..." class="dropdown-search-input">
                        <div class="search-dropdown-filters">
                            <select id="dropdown-genre-filter" class="dropdown-filter">
                                <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                            </select>
                            <select id="dropdown-author-filter" class="dropdown-filter">
                                <option value="">–í—Å–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏</option>
                            </select>
                        </div>
                        <div class="search-dropdown-actions">
                            <button class="dropdown-search-btn" id="dropdown-search-btn">–ù–∞–π—Ç–∏</button>
                            <button class="dropdown-clear-btn" id="dropdown-clear-btn">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
            <a href="login.html" class="login-btn" id="login-link">–í–æ–π—Ç–∏</a>
            <div id="user-profile-block" style="display: none; align-items: center; gap: 15px;">
                <span class="user-avatar">üë§</span>
                <span class="user-name">–ü—Ä–æ—Ñ–∏–ª—å</span>
                <button class="logout-btn" id="logout-btn">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </header>

    <main class="cart-container">
        <div class="cart-header">
            <h1>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h1>
            <button class="filter-btn ai-btn" id="get-recommendations" style="margin-top: 15px;">ü§ñ –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
        </div>

        <div id="error-message" class="error" style="display: none;"></div>
        
        <div id="cart-items" class="cart-items">
            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã...</div>
        </div>

        <div id="cart-summary" class="cart-summary" style="display: none;">
            <h3 class="total-price">–ò—Ç–æ–≥–æ: <span id="total-price">0</span> ‚ÇΩ</h3>
            <div class="checkout-actions">
                <button id="checkout-btn" class="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                <button id="clear-cart-btn" class="clear-cart-btn">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
        </div>
    </main>

    <footer class="site-footer-main">
        <div class="footer-content">
            <div class="footer-logo">–í–∏–Ω–∏–ª –®–æ–ø</div>
            <div class="footer-links">
                <div class="footer-column">
                    <h3>–ñ–∞–Ω—Ä—ã</h3>
                    <ul>
                        <li><a href="#">–ù–æ–Ω-—Ñ–∏–∫—à–Ω</a></li>
                        <li><a href="#">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</a></li>
                        <li><a href="#">–ë–∏–∑–Ω–µ—Å</a></li>
                        <li><a href="#">–§–∏–Ω–∞–Ω—Å—ã</a></li>
                        <li><a href="#">–í—Å–µ –∂–∞–Ω—Ä—ã</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <ul>
                        <li><a href="#">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</a></li>
                        <li><a href="#">–ù–æ–≤–∏–Ω–∫–∏</a></li>
                        <li><a href="#">–í—ã–±–æ—Ä —Ä–µ–¥–∞–∫—Ü–∏–∏</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>–†–∞–∑–¥–µ–ª—ã</h3>
                    <ul>
                        <li><a href="#">–ö–∞–∫ –∫—É–ø–∏—Ç—å</a></li>
                        <li><a href="#">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</a></li>
                        <li><a href="#">–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ</a></li>
                        <li><a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
    <div id="recommendations-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ü§ñ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                <span class="close" id="close-recommendations">&times;</span>
            </div>
            <div class="modal-body">
                <div class="recommendations-form">
                    <div class="form-group">
                        <label for="user-preferences">–í–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤ —á—Ç–µ–Ω–∏–∏:</label>
                        <textarea id="user-preferences" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –õ—é–±–ª—é —Ä–æ–∫, –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–æ–∫, –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤-—Ä–æ–∫..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="current-books">ID –ø–ª–∞—Å—Ç–∏–Ω–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                        <input type="text" id="current-books" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1, 3, 5 (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ ID)">
                    </div>
                    
                    <div class="form-group">
                        <label for="genre-preferences">–õ—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
                        <input type="text" id="genre-preferences" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –¥–µ—Ç–µ–∫—Ç–∏–≤, —Ä–æ–º–∞–Ω">
                    </div>
                    
                    <div class="form-group">
                        <label for="ai-model">AI-–º–æ–¥–µ–ª—å:</label>
                        <select id="ai-model">
                            <option value="gpt-4">GPT-4 Turbo</option>
                            <option value="claude-3">Claude 3.5 Sonnet</option>
                            <option value="gemini-pro">Gemini Pro 1.5</option>
                            <option value="gemini-flash">Gemini Flash</option>
                            <option value="llama-3">Llama 3 8B</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="max-recommendations">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:</label>
                        <select id="max-recommendations">
                            <option value="3">3</option>
                            <option value="5" selected>5</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                    
                    <button id="generate-recommendations" class="generate-btn">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
                </div>
                
                <div id="recommendations-result" class="recommendations-result" style="display: none;">
                    <div class="loading" id="loading-indicator" style="display: none;">
                        <div class="spinner"></div>
                        <p>ü§ñ AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏...</p>
                    </div>
                    <div id="recommendations-content"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="config/api-config.js"></script>
    <script src="scripts/script.js"></script>
    <script src="scripts/cart.js"></script>
    <script src="scripts/recommendations.js"></script>
</body>
</html>