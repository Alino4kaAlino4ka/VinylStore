<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
    <link rel="stylesheet" href="../styles/style.css">
    <style>
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background-color: #1A1B20;
            border-radius: 8px;
            border: 1px solid #2A2B30;
        }
        
        .login-container h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #EAEAEA;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #EAEAEA;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            background-color: #0F1014;
            border: 1px solid #2A2B30;
            border-radius: 4px;
            color: #EAEAEA;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #FF9900;
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background-color: #FF9900;
            color: #0F1014;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .login-btn:hover {
            background-color: #E68900;
        }
        
        .error-message {
            background-color: #FF4444;
            color: white;
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
        }
        
        .back-link {
            text-align: center;
            margin-top: 20px;
        }
        
        .back-link a {
            color: #EAEAEA;
            text-decoration: none;
        }
        
        .back-link a:hover {
            color: #FF9900;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <a href="../index.html" class="logo">–ê–£–î–ò–¢–ï–†–ò–Ø</a>
        <nav>
            <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="../cart.html">–ö–æ—Ä–∑–∏–Ω–∞ (<span id="cart-count">0</span>)</a>
        </nav>
        <div class="user-actions">
            <a href="../index.html">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç</a>
        </div>
    </header>

    <main class="page-content">
        <div class="login-container">
            <h1>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
            
            <div id="error-message" class="error-message"></div>
            
            <form id="admin-login-form">
                <div class="form-group">
                    <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                
                <div class="form-group">
                    <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                
                <button type="submit" class="login-btn">–í–æ–π—Ç–∏</button>
            </form>
            
            <div class="back-link">
                <a href="../index.html">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
            </div>
        </div>
    </main>

    <script>
        document.getElementById('admin-login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('error-message');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            if (username === 'admin' && password === 'admin123') {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–æ—Å—Ç–æ–π —Ç–æ–∫–µ–Ω
                const token = 'admin_token_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω –≤ localStorage
                localStorage.setItem('admin_token', token);
                
                // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                window.location.href = 'admin.html';
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                errorMessage.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';
                errorMessage.style.display = 'block';
                
                // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 5000);
            }
        });
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        if (localStorage.getItem('admin_token')) {
            window.location.href = 'admin.html';
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartCount() {
            try {
                const cartWithQuantity = JSON.parse(localStorage.getItem('cartWithQuantity') || '{}');
                const totalItems = Object.values(cartWithQuantity).reduce((sum, quantity) => sum + (quantity || 0), 0);
                const cartCountElement = document.getElementById('cart-count');
                if (cartCountElement) {
                    cartCountElement.textContent = totalItems;
                }
            } catch (e) {
                try {
                    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
                    const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
                    const cartCountElement = document.getElementById('cart-count');
                    if (cartCountElement) {
                        cartCountElement.textContent = totalItems;
                    }
                } catch (e2) {
                    console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã:', e2);
                }
            }
        }
        updateCartCount();
    </script>
</body>
</html>
