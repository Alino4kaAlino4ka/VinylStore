<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
    <link rel="stylesheet" href="../styles/style.css">
    <style>
        #generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }
        
        #generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <a href="../index.html" class="logo">–í–ò–ù–ò–õ –®–û–ü</a>
        <nav>
            <a href="../cart.html">–ö–æ—Ä–∑–∏–Ω–∞ (<span id="cart-count">0</span>)</a>
            <a href="#" class="active">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
        </nav>
        <div class="user-actions">
            <a href="../index.html">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç</a>
            <button onclick="logoutAdmin()" class="logout-btn">–í—ã–π—Ç–∏</button>
        </div>
    </header>

    <main class="admin-content">
        <div class="container">
            <h1>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
        
        <div class="offline-notice">
            <strong>–†–µ–∂–∏–º –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞:</strong> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
        </div>
        
        <h2>–î–æ–±–∞–≤–∏—Ç—å/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h2>
        <form id="product-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                    <input type="text" id="title" name="title" required>
                </div>
                <div class="form-group">
                    <label for="author_id">ID –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:</label>
                    <input type="number" id="author_id" name="author_id" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <div class="description-input-wrapper" style="display: flex; gap: 10px; align-items: flex-start; flex-wrap: wrap;">
                    <textarea id="description" name="description" required style="flex: 1; min-width: 200px;"></textarea>
                    <button type="button" id="generate-description-btn" onclick="generateDescription()" style="white-space: nowrap; padding: 10px 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; height: fit-content;">
                        ü§ñ AI –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä
                    </button>
                </div>
                <div id="description-status" style="margin-top: 5px; font-size: 12px; color: #666;"></div>
            </div>
            
            <div class="form-group">
                <label for="price">–¶–µ–Ω–∞:</label>
                <input type="number" id="price" name="price" step="0.01" min="0" required>
            </div>
            
            <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>
    </div>
    
    <div class="container">
        <h2>–¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ê–Ü (–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤)</h2>
        <div id="prompts-list"></div>
    </div>
    
    <div class="container">
        <h2 style="color: #ff6b35; border-left: 4px solid #ff6b35; padding-left: 15px; margin-bottom: 25px;">Core Domain: AI-–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
        <div class="form-group" style="background: #1a1a1a; padding: 25px; border-radius: 10px; margin-bottom: 20px;">
            <label for="ai-prompt" style="display: block; color: #e0e0e0; margin-bottom: 10px; font-weight: 600;">–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:</label>
            <textarea id="ai-prompt" name="ai-prompt" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ, –∫–∞–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤–∞–º –Ω—É–∂–Ω—ã..." style="width: 100%; padding: 15px; border: 2px solid #333; border-radius: 8px; background: #2a2a2a; color: #e0e0e0; font-size: 16px; resize: vertical; box-sizing: border-box;"></textarea>
        </div>
        <button id="generate-btn" type="button" style="background: linear-gradient(135deg, #ff6b35, #ff8e53); color: white; border: none; padding: 15px 30px; border-radius: 25px; font-size: 16px; font-weight: 600; cursor: pointer; margin-bottom: 20px; transition: all 0.3s ease;">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
        <div id="ai-result" style="margin-top: 20px; padding: 20px; border: 1px solid #333; border-radius: 10px; background: #1a1a1a; min-height: 50px; display: none; color: #e0e0e0;">
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>
    
    <div class="container">
        <h2>–¢–æ–≤–∞—Ä—ã</h2>
        <div id="loading" class="loading" style="display: none;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <div id="error-message" class="error" style="display: none;"></div>
        <div id="success-message" class="success" style="display: none;"></div>
        
        <table id="products-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å ID</th>
                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    <th>–¶–µ–Ω–∞</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </tbody>
        </table>
    </div>
    </main>

    <script src="../config/api-config.js"></script>
    <script src="admin.js"></script>
    <script>
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
        document.addEventListener('DOMContentLoaded', function() {
            function updateCartCount() {
                try {
                    const cartWithQuantity = JSON.parse(localStorage.getItem('cartWithQuantity') || '{}');
                    const totalItems = Object.values(cartWithQuantity).reduce((sum, quantity) => sum + (quantity || 0), 0);
                    const cartCountElement = document.getElementById('cart-count');
                    if (cartCountElement) {
                        cartCountElement.textContent = totalItems;
                    }
                } catch (e) {
                    try {
                        const cart = JSON.parse(localStorage.getItem('cart') || '[]');
                        const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
                        const cartCountElement = document.getElementById('cart-count');
                        if (cartCountElement) {
                            cartCountElement.textContent = totalItems;
                        }
                    } catch (e2) {
                        console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã:', e2);
                    }
                }
            }
            updateCartCount();
        });
    </script>
</body>
</html>



