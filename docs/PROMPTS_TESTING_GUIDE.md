# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–º–ø—Ç–æ–≤

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Headless AI –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- API Prompts Manager
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Recommender ‚Üî Prompts Manager
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
python run_all_tests.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ bat —Ñ–∞–π–ª:
```bash
run_tests_prompts.bat
```

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Prompts Manager API:**
   ```bash
   python test_prompts_manager_full.py
   ```
   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - ‚úÖ Health check endpoint
   - ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
   - ‚úÖ GET /api/v1/prompts - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
   - ‚úÖ GET /api/v1/prompts/{prompt_id} - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
   - ‚úÖ PUT /api/v1/prompts/{prompt_id} - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
   - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (404, 500)
   - ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å –æ—à–∏–±–∫–∞–º–∏

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
   ```bash
   python test_recommender_prompts_integration.py
   ```
   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Prompts Manager
   - ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Recommender
   - ‚úÖ –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ Prompts Manager
   - ‚úÖ Recommender –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –∏–∑ Prompts Manager
   - ‚úÖ CORS –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å –æ—à–∏–±–∫–∞–º–∏

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:**
   ```bash
   python test_admin_prompts_frontend.py
   ```
   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JSON
   - ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
   - ‚úÖ API –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### Prompts Manager API
- **8 —Ç–µ—Å—Ç–æ–≤**, –≤—Å–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏: API endpoints, CORS, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **6 —Ç–µ—Å—Ç–æ–≤**, –º–∏–Ω–∏–º—É–º 5 –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Headless AI –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –§—Ä–æ–Ω—Ç–µ–Ω–¥
- **5 —Ç–µ—Å—Ç–æ–≤**, –≤—Å–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## ‚öôÔ∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
```bash
python start_services_final.py
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω—ã:
- Prompts Manager –Ω–∞ –ø–æ—Ä—Ç—É 8007
- Recommender –Ω–∞ –ø–æ—Ä—Ç—É 8004

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
```bash
# Prompts Manager
curl http://127.0.0.1:8007/health

# Recommender
curl http://127.0.0.1:8004/health
```

### 3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–º–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
–ï—Å–ª–∏ –ø—Ä–æ–º–ø—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:
```bash
python create_default_prompts.py
```

## üîß –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:**
   ```bash
   type logs\prompts-manager_stderr.log
   type logs\recommender_stderr.log
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
   ```bash
   python -c "import requests; r = requests.get('http://127.0.0.1:8007/api/v1/prompts'); print('CORS:', {k: v for k, v in r.headers.items() if 'access-control' in k.lower()})"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤:**
   ```bash
   python -c "import requests; r = requests.get('http://127.0.0.1:8007/api/v1/prompts'); print('Prompts:', len(r.json()))"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é:**
   ```bash
   python -c "import requests; r = requests.post('http://127.0.0.1:8004/api/v1/recommendations/generate', json={'prompt': 'test'}); print('Status:', r.status_code)"
   ```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### test_prompts_manager_full.py
- `test_health_check()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
- `test_cors_headers()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ CORS –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- `test_get_all_prompts()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- `test_get_specific_prompt()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- `test_get_nonexistent_prompt()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ 404
- `test_update_prompt()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
- `test_update_nonexistent_prompt()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- `test_error_handling()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å CORS

### test_recommender_prompts_integration.py
- `test_prompts_manager_available()` - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Prompts Manager
- `test_recommender_available()` - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Recommender
- `test_prompts_manager_has_prompts()` - –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- `test_recommender_gets_recommendation_prompt()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ Recommender
- `test_prompts_manager_cors_for_browser()` - CORS –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
- `test_error_responses_have_cors()` - CORS –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å –æ—à–∏–±–∫–∞–º–∏

### test_admin_prompts_frontend.py
- `test_api_accessible_from_browser()` - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
- `test_api_returns_valid_json()` - –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å JSON
- `test_prompts_structure()` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
- `test_update_prompt_api()` - API –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `test_error_responses_structure()` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—à–∏–±–æ–∫

## üìà –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
```
[SUCCESS] –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
```

### –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
```
[WARNING] –ù–ï–ö–û–¢–û–†–´–ï –¢–ï–°–¢–´ –ù–ï –ü–†–û–ô–î–ï–ù–´
```
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã.

### –ü–æ–ª–Ω—ã–π –ø—Ä–æ–≤–∞–ª
```
[FAIL] –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê
```
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –í—Å–µ –ª–∏ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ—Ä—Ç—ã
3. –°–æ–∑–¥–∞–Ω—ã –ª–∏ –ø—Ä–æ–º–ø—Ç—ã –≤ –ë–î

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Prompts Manager](PROMPTS_MANAGER_FULL_DOCUMENTATION.md)
- [–°–≤–æ–¥–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](TESTING_SUMMARY.md)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–º–ø—Ç–æ–≤](TESTING_PROMPTS_SYSTEM.md)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

