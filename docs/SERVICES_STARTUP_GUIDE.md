# Инструкция по запуску сервисов

## Запуск сервисов

```bash
python start_services_final.py
```

## Что делает скрипт

1. **Проверяет наличие файлов** - перед запуском проверяется наличие `main.py` в каждой директории сервиса
2. **Логирует вывод** - все логи сервисов сохраняются в папку `logs/`:
   - `{service}_stdout.log` - стандартный вывод
   - `{service}_stderr.log` - ошибки
3. **Проверяет работоспособность** - скрипт проверяет, что процессы не упали сразу после запуска
4. **Мониторинг** - постоянно проверяет состояние сервисов

## Если сервисы не запускаются

1. **Проверьте логи** в папке `logs/`:
   ```bash
   # Посмотреть ошибки catalog сервиса
   type logs\catalog_stderr.log
   
   # Посмотреть ошибки recommender сервиса
   type logs\recommender_stderr.log
   ```

2. **Проверьте порты** - убедитесь, что порты не заняты:
   - Catalog: 8000
   - Auth: 8001
   - Orders: 8002
   - Users: 8003
   - Recommender: 8004
   - Cart: 8005
   - **Prompts Manager: 8007** (новый сервис Headless AI)

3. **Проверьте зависимости**:
   ```bash
   pip install fastapi uvicorn httpx openai python-dotenv
   ```

4. **Проверьте config.env** - файл должен содержать:
   ```
   OPENROUTER_API_KEY=your_key_here
   ```

## Проверка работы сервисов

После запуска откройте в браузере:
- Catalog: http://127.0.0.1:8000/docs
- **Prompts Manager: http://127.0.0.1:8007/docs** (новый сервис)
- Recommender: http://127.0.0.1:8004/docs

Или используйте тестовый скрипт:
```bash
python test_description_generation.py
```

## Остановка сервисов

Нажмите `Ctrl+C` в терминале, где запущен скрипт. Все сервисы будут остановлены автоматически.

