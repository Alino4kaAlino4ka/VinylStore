# –°–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–µ–∫—Ä–µ—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω `.gitignore` –¥–ª—è –∑–∞—â–∏—Ç—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –í—Å–µ API –∫–ª—é—á–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `config.env`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏ –∏–∑:
  - `start_all_services.bat`
  - `start_services_fixed.bat`
  - `start_recommender_only.py`

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ **SHA-256 –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ bcrypt** –≤:
  - `services/auth/main.py`
  - `services/catalog/security.py`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `passlib[bcrypt]` (—É–∂–µ –≤ requirements.txt)

### 3. JWT –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏
- ‚úÖ SECRET_KEY –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã:
  - `services/auth/main.py`
  - `services/catalog/security.py`
  - `src/admin_config.py`

### 4. CORS
- ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç CORS —á–µ—Ä–µ–∑ `ALLOWED_ORIGINS`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è production
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤:
  - `services/auth/main.py`
  - `services/catalog/main.py`
  - `services/orders/main.py`
  - `services/cart/main.py`
  - `services/prompts-manager/main.py`
  - `services/recommender/main.py`

### 5. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ DATABASE_URL –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL/MySQL –¥–ª—è production
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `database/connection.py`

### 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `config.env` —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:
  - `SECRET_KEY`
  - `DATABASE_URL`
  - `ALLOWED_ORIGINS`
  - `ENVIRONMENT`
  - `ADMIN_USERNAME`
  - `ADMIN_PASSWORD`

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)

### Admin Panel Authentication
**–ü–†–û–ë–õ–ï–ú–ê:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –≤ JavaScript

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ –µ—â–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ (`src/admin/login.html`)
- ‚ùå –õ—é–±–æ–π –º–æ–∂–µ—Ç –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:**
–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ backend:
1. –°–æ–∑–¥–∞—Ç—å API endpoint `/admin/login`
2. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Å–µ—Å—Å–∏–π
4. –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏–∑ JavaScript

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ production –¥–µ–ø–ª–æ–µ–º

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY:**
   ```bash
   python -c "import secrets; print(secrets.token_urlsafe(32))"
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å config.env:**
   ```env
   SECRET_KEY=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á>
   ENVIRONMENT=production
   ALLOWED_ORIGINS=https://yourdomain.com
   ADMIN_USERNAME=<–Ω–æ–≤—ã–π_–ª–æ–≥–∏–Ω>
   ADMIN_PASSWORD=<–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å>
   DATABASE_URL=postgresql://user:pass@host:5432/db
   ```

3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å Admin Panel:**
   - –°–æ–∑–¥–∞—Ç—å backend endpoint –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏–∑ JavaScript

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install safety
   safety check -r requirements.txt
   ```

5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
   - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP ‚Üí HTTPS

6. **Firewall –∏ –¥–æ—Å—Ç—É–ø:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ firewall
   - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `.gitignore` - —Å–æ–∑–¥–∞–Ω
- `config.env` - –æ–±–Ω–æ–≤–ª–µ–Ω
- `DEPLOYMENT_SECURITY_CHECKLIST.md` - —Å–æ–∑–¥–∞–Ω
- `SECURITY_FIXES_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –°–µ—Ä–≤–∏—Å—ã:
- `services/auth/main.py` - bcrypt, SECRET_KEY, CORS
- `services/catalog/main.py` - CORS
- `services/catalog/security.py` - bcrypt, SECRET_KEY
- `services/orders/main.py` - CORS
- `services/cart/main.py` - CORS
- `services/prompts-manager/main.py` - CORS
- `services/recommender/main.py` - CORS
- `database/connection.py` - DATABASE_URL

### –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞:
- `start_all_services.bat` - —É–¥–∞–ª–µ–Ω API –∫–ª—é—á
- `start_services_fixed.bat` - —É–¥–∞–ª–µ–Ω API –∫–ª—é—á
- `start_recommender_only.py` - —É–¥–∞–ª–µ–Ω API –∫–ª—é—á

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
- `src/admin_config.py` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîí –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| API –∫–ª—é—á–∏ | ‚úÖ | –í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| –ü–∞—Ä–æ–ª–∏ | ‚úÖ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è bcrypt |
| JWT —Å–µ–∫—Ä–µ—Ç—ã | ‚úÖ | –í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| CORS | ‚úÖ | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ env |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ | URL –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| Admin auth | ‚ö†Ô∏è | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ |
| HTTPS | ‚ùå | –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| Rate limiting | ‚ùå | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω |

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `DEPLOYMENT_SECURITY_CHECKLIST.md` - –ø–æ–¥—Ä–æ–±–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è
- `SECURITY_FIXES_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

1. **–ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ** `config.env` –≤ git
2. **–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ** –∫–ª—é—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ CORS** —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –≤ production
5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ
6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

