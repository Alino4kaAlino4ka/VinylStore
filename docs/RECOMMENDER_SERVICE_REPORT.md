# –û—Ç—á–µ—Ç –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API-–∫–ª–∏–µ–Ω—Ç–∞ OpenRouter
- –°–æ–∑–¥–∞–Ω –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è API –∫–ª—é—á–∞ –≤ —Ñ–∞–π–ª–µ `config.env`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –∫–ª–∏–µ–Ω—Ç OpenAI —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ OpenRouter API
- **–í–ê–ñ–ù–û:** API –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config.env` (—Ñ–∞–π–ª –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Git –±–ª–∞–≥–æ–¥–∞—Ä—è .gitignore)

### ‚úÖ 2. –°–æ–∑–¥–∞–Ω–∏–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/v1/recommendations/generate`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Pydantic –º–æ–¥–µ–ª–µ–π –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

### ‚úÖ 3. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–º –∫–∞—Ç–∞–ª–æ–≥–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Anti-Corruption Layer —á–µ—Ä–µ–∑ HTTP –∑–∞–ø—Ä–æ—Å—ã
- GET –∑–∞–ø—Ä–æ—Å –∫ `http://localhost:8000/api/v1/products`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `httpx` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

### ‚úÖ 4. –õ–æ–≥–∏–∫–∞ Core Domain (–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∏ –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–ª–∞—Å—Ç–∏–Ω–æ–∫
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
- **OpenAI SDK** - –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenRouter API
- **httpx** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∫–ª–∏–µ–Ω—Ç—ã
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### AI/ML
- **OpenRouter API** - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º LLM –º–æ–¥–µ–ª—è–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–µ–ª–µ–π:
  - GPT-4
  - Gemini Pro
  - Claude 3
  - Llama 3

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
services/recommender/
‚îú‚îÄ‚îÄ main.py          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞
‚îî‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `OPENROUTER_API_KEY` - API –∫–ª—é—á –¥–ª—è OpenRouter (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config.env`)
- `ALLOWED_ORIGINS` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS
- `ENVIRONMENT` - –æ–∫—Ä—É–∂–µ–Ω–∏–µ (development/production)

### –ü–æ—Ä—Ç
–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É **8004** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ **8012** (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

### –ß–µ—Ä–µ–∑ uvicorn –Ω–∞–ø—Ä—è–º—É—é
```bash
cd services/recommender
python -m uvicorn main:app --host 127.0.0.1 --port 8004 --reload
```

### –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
```bash
python scripts/launch/start_recommender_only.py
```

## üì° API Endpoints

### POST /api/v1/recommendations/generate
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**Request Body:**
```json
{
  "user_preferences": "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –¥–∂–∞–∑ –∏ –±–ª—é–∑",
  "model": "gemini-pro",
  "num_recommendations": 3
}
```

**Response:**
```json
{
  "recommendations": [
    {
      "id": 1,
      "title": "Kind of Blue",
      "artist": "Miles Davis",
      "reason": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–∂–∞–∑–æ–≤—ã–π –∞–ª—å–±–æ–º..."
    }
  ]
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config.env` –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API –∫–ª—é—á–∞

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- Swagger UI: http://127.0.0.1:8004/docs
- –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ –ø–∞–ø–∫–µ `tests/`

