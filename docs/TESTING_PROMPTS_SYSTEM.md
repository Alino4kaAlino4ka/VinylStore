# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–º–ø—Ç–æ–≤

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å–º. [PROMPTS_TESTING_GUIDE.md](PROMPTS_TESTING_GUIDE.md)

## üìã –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 1. `test_prompts_manager_full.py`
**–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Prompts Manager API**

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ Health check endpoint
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ GET /api/v1/prompts - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ GET /api/v1/prompts/{prompt_id} - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- ‚úÖ GET /api/v1/prompts/{prompt_id} - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (404)
- ‚úÖ PUT /api/v1/prompts/{prompt_id} - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
- ‚úÖ PUT /api/v1/prompts/{prompt_id} - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (404)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å CORS –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏

**–ó–∞–ø—É—Å–∫:**
```bash
python test_prompts_manager_full.py
```

### 2. `test_recommender_prompts_integration.py`
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Recommender ‚Üî Prompts Manager**

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Prompts Manager
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Recommender
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ Prompts Manager
- ‚úÖ Recommender –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –∏–∑ Prompts Manager
- ‚úÖ CORS –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å –æ—à–∏–±–∫–∞–º–∏

**–ó–∞–ø—É—Å–∫:**
```bash
python test_recommender_prompts_integration.py
```

### 3. `test_admin_prompts_frontend.py`
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JSON
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ API –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

**–ó–∞–ø—É—Å–∫:**
```bash
python test_admin_prompts_frontend.py
```

### 4. `run_all_tests.py`
**–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–º–ø—Ç–æ–≤**

–ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç—Ä–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞ –∏ –≤—ã–≤–æ–¥–∏—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

**–ó–∞–ø—É—Å–∫:**
```bash
python run_all_tests.py
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É
```bash
python run_all_tests.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –¢–µ—Å—Ç Prompts Manager
python test_prompts_manager_full.py

# –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
python test_recommender_prompts_integration.py

# –¢–µ—Å—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
python test_admin_prompts_frontend.py
```

## üìä –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

### API Endpoints
- ‚úÖ GET /health
- ‚úÖ GET /api/v1/prompts
- ‚úÖ GET /api/v1/prompts/{prompt_id}
- ‚úÖ PUT /api/v1/prompts/{prompt_id}

### CORS
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å –æ—à–∏–±–∫–∞–º–∏
- ‚úÖ OPTIONS preflight –∑–∞–ø—Ä–æ—Å—ã

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Recommender –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –∏–∑ Prompts Manager
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã (8007 –¥–ª—è Prompts Manager, 8004 –¥–ª—è Recommender)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª—è: id, name, template
- ‚úÖ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å JSON –æ—Ç–≤–µ—Ç–æ–≤

## üîß –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:**
   ```bash
   python start_services_final.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤:**
   ```bash
   curl http://127.0.0.1:8007/health
   curl http://127.0.0.1:8004/health
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:**
   - `logs/prompts-manager_stderr.log`
   - `logs/recommender_stderr.log`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –ë–î:**
   ```bash
   python create_default_prompts.py
   ```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è CORS –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏:
- ‚úÖ 8/8 —Ç–µ—Å—Ç–æ–≤ Prompts Manager
- ‚úÖ 6/6 —Ç–µ—Å—Ç–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ 5/5 —Ç–µ—Å—Ç–æ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

