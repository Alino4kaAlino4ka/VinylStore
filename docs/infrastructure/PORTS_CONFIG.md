# Конфигурация портов сервисов

## Текущая конфигурация портов

| Сервис | Порт | URL | Описание |
|--------|------|-----|----------|
| **catalog** | 8000 | http://127.0.0.1:8000 | Каталог товаров и админ-панель API |
| **auth** | 8001 | http://127.0.0.1:8001 | Сервис аутентификации |
| **orders** | 8010 | http://127.0.0.1:8010 | Сервис заказов |
| **users** | 8011 | http://127.0.0.1:8011 | Сервис пользователей |
| **recommender** | 8012 | http://127.0.0.1:8012 | AI-рекомендации и чат-консультант |
| **cart** | 8005 | http://127.0.0.1:8005 | Сервис корзины |
| **prompts-manager** | 8007 | http://127.0.0.1:8007 | Управление AI-промптами |

## Зависимости между сервисами

### Recommender Service (8012)
- Использует **prompts-manager** (8007) для получения промптов
- Использует **catalog** (8000) для получения каталога пластинок

### Cart Service (8005)
- Использует **catalog** (8000) для получения информации о товарах

### Admin Panel
- Использует **catalog** (8000) для управления товарами
- Использует **recommender** (8012) для генерации описаний

## Проверка работы сервисов

### Health Check эндпоинты:
- Catalog: http://127.0.0.1:8000/health
- Auth: http://127.0.0.1:8001/health
- Orders: http://127.0.0.1:8010/health
- Users: http://127.0.0.1:8011/health
- Recommender: http://127.0.0.1:8012/health
- Cart: http://127.0.0.1:8005/health
- Prompts Manager: http://127.0.0.1:8007/health

### API Documentation:
- Catalog: http://127.0.0.1:8000/docs
- Recommender: http://127.0.0.1:8012/docs
- Prompts Manager: http://127.0.0.1:8007/docs

## Запуск сервисов

Используйте скрипт `start_services_final.py` для запуска всех сервисов:

```bash
python start_services_final.py
```

Сервисы запускаются в следующем порядке:
1. catalog (8000)
2. auth (8001)
3. orders (8010)
4. users (8011)
5. prompts-manager (8007) - должен запускаться до recommender
6. recommender (8012)
7. cart (8005)

## Важные замечания

- Порты не должны конфликтовать с другими приложениями
- Prompts-manager должен запускаться до recommender, так как recommender получает промпты из prompts-manager
- Все сервисы должны быть доступны на localhost (127.0.0.1)

